"use strict";Object.defineProperty(exports, "__esModule", {value: true});var _chunkSKL7TQPTcjs = require('./chunk-SKL7TQPT.cjs');function w(t){if(!t)throw new Error("@vercel/edge-config: No connection string provided");let E=_chunkSKL7TQPTcjs.g.call(void 0, t);if(!E)throw new Error("@vercel/edge-config: Invalid connection string provided");let d=`https://edge-config.vercel.com/${E.id}`,f="1",g={Authorization:`Bearer ${E.token}`};return{async get(r){return _chunkSKL7TQPTcjs.d.call(void 0, r),_chunkSKL7TQPTcjs.h.call(void 0, `${d}/item/${r}?version=${f}`,{headers:new Headers(g),cache:"no-store"}).then(e=>{if(e.status===401)throw new Error(_chunkSKL7TQPTcjs.a.UNAUTHORIZED);if(e.status===404){if(e.headers.has("x-edge-config-digest"))return;throw new Error(_chunkSKL7TQPTcjs.a.EDGE_CONFIG_NOT_FOUND)}if(e.cachedResponseBody!==void 0)return e.cachedResponseBody;if(e.ok)return e.json();throw new Error(_chunkSKL7TQPTcjs.a.UNEXPECTED)},()=>{throw new Error(_chunkSKL7TQPTcjs.a.NETWORK)})},async has(r){return _chunkSKL7TQPTcjs.d.call(void 0, r),_chunkSKL7TQPTcjs.h.call(void 0, `${d}/item/${r}?version=${f}`,{method:"HEAD",headers:new Headers(g),cache:"no-store"}).then(e=>{if(e.status===401)throw new Error(_chunkSKL7TQPTcjs.a.UNAUTHORIZED);if(e.status===404){if(e.headers.has("x-edge-config-digest"))return!1;throw new Error(_chunkSKL7TQPTcjs.a.EDGE_CONFIG_NOT_FOUND)}if(e.ok)return!0;throw new Error(_chunkSKL7TQPTcjs.a.UNEXPECTED)},()=>{throw new Error(_chunkSKL7TQPTcjs.a.NETWORK)})},async getAll(r){Array.isArray(r)&&_chunkSKL7TQPTcjs.e.call(void 0, r);let e=Array.isArray(r)?new URLSearchParams(r.map(o=>["key",o])).toString():null;return e===""?Promise.resolve({}):_chunkSKL7TQPTcjs.h.call(void 0, `${d}/items?version=${f}${e===null?"":`&${e}`}`,{headers:new Headers(g),cache:"no-store"}).then(async o=>{if(o.status===401)throw new Error(_chunkSKL7TQPTcjs.a.UNAUTHORIZED);if(o.status===404)throw new Error(_chunkSKL7TQPTcjs.a.EDGE_CONFIG_NOT_FOUND);if(o.cachedResponseBody!==void 0)return o.cachedResponseBody;if(o.ok)return o.json();throw new Error(_chunkSKL7TQPTcjs.a.UNEXPECTED)},()=>{throw new Error(_chunkSKL7TQPTcjs.a.NETWORK)})},async digest(){return _chunkSKL7TQPTcjs.h.call(void 0, `${d}/digest?version=1`,{headers:new Headers(g),cache:"no-store"}).then(r=>{if(r.cachedResponseBody!==void 0)return r.cachedResponseBody;if(r.ok)return r.json();throw new Error(_chunkSKL7TQPTcjs.a.UNEXPECTED)},()=>{throw new Error(_chunkSKL7TQPTcjs.a.NETWORK)})}}}var i;function a(){i||(i=w(process.env.EDGE_CONFIG))}var p=(...t)=>(a(),i.get(...t)),m= exports.getAll =(...t)=>(a(),i.getAll(...t)),T= exports.has =(...t)=>(a(),i.has(...t)),N= exports.digest =(...t)=>(a(),i.digest(...t));exports.createClient = w; exports.digest = N; exports.get = p; exports.getAll = m; exports.has = T; exports.parseConnectionString = _chunkSKL7TQPTcjs.g;
