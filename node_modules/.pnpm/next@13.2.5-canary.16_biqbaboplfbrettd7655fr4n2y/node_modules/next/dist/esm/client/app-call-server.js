import _async_to_generator from "@swc/helpers/src/_async_to_generator.mjs";
export function callServer(id, bound) {
    return _callServer.apply(this, arguments);
}
function _callServer() {
    _callServer = _async_to_generator(function*(id, bound) {
        const actionId = id;
        // Fetching the current url with the action header.
        // TODO: Refactor this to look up from a manifest.
        const res = yield fetch('', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Next-Action': actionId
            },
            body: JSON.stringify({
                bound
            })
        });
        if (!res.ok) {
            throw new Error((yield res.text()));
        }
        return (yield res.json())[0];
    });
    return _callServer.apply(this, arguments);
}

//# sourceMappingURL=app-call-server.js.map